function brzycki(e,t){"use strict";if(1>t)throw"Reps must be 1 or greater to calculate 1RM";return Math.round(e*(36/(37-t)))}var angularApp=function(e){"use strict";var t=e.module("StrengthTracker",["ngRoute","ngAnimate","StorageService"]);return t.config(["$routeProvider","$locationProvider",function(e){e.when("/",{templateUrl:"views/main.html",controller:"mainCtrl"}).when("/history",{templateUrl:"views/history.html",controller:"historyCtrl"}).when("/settings",{templateUrl:"views/settings.html",controller:"settingsCtrl"}).when("/about",{templateUrl:"views/about.html"}).otherwise({redirectTo:"/"})}]),t}(window.angular);!function(e){"use strict";var t=e("#header"),n=t.find(".navbar-toggle"),r=e("#main-nav").find(".nav > li > a");n.add(r).click(function(){e("body").toggleClass("mm-open")})}(window.jQuery),function(){"use strict";try{Build.VERSION.SDK_INT>=Build.VERSION_CODES.KITKAT&&WebView.setWebContentsDebuggingEnabled(!0)}catch(e){console.debug("Android not detected. Not setting WebContentDebugging.")}}(),console.debug("app.js loaded."),function(e){"use strict";e.controller("mainCtrl",["$scope","Storage",function(e,t){e.exercise=null,e.animationClass="lightSpeedIn",t.setupDatabase("strengthTracker"),e.setExercise=function(t){e.exercise=t},e.saveExercise=function(){var n=e.exercise.toLowerCase(),r="bench press"===n?"bench":"squat"===n?"squat":"deadlift";try{t.addExercise(r,{reps:e.reps,weight:e.weight,date:new Date}),e.message="Nice! Your data has been saved!",e.exercise=null,e.reps=null,e.weight=null}catch(a){console.error(a.message),e.message="There was an error saving your data. Please try again later."}},e.reset=function(){e.exercise=null,e.message=null}}])}(window.angularApp),console.debug("Main Controller loaded."),function(e){"use strict";e.controller("historyCtrl",["$scope","$log","$timeout","$q","Storage",function(e,t,n,r,a){var o="No data found for lift. Go enter some!";e.db=a.getConnection(),e.generateChartData=function(e,t){return{title:{text:"",x:-20},xAxis:{categories:t,title:{text:"Date"}},yAxis:{title:{text:"Weight"}},series:[{name:"Weight",data:e}]}},e.populateCharts=function(n,r){var a=e.db;a.transaction(function(a){var i="SELECT reps, weight, recorded from "+n+" ORDER BY recorded ASC";a.executeSql(i,[],function(a,i){var s=i.rows.length;t.debug("Retrieved "+s+" results for query");for(var c=[],l=[],u=0;s>u;u++){var d=i.rows.item(u).weight,g=i.rows.item(u).reps,h=i.rows.item(u).recorded;c.push(brzycki(d,g)),l.push(moment(h).format("MM/DD/YY"))}if(c.length&&l.length)!r instanceof jQuery&&(r=angular.element(r)),r.highcharts(e.generateChartData(c,l));else switch(n){case"bench":e.benchMessage=o;break;case"squat":e.squatMessage=o;break;case"deadlift":e.deadliftMessage=o}e.$apply()})})},e.$on("$routeChangeSuccess",function(){e.populateCharts("bench",angular.element("#benchchart")),e.populateCharts("squat",angular.element("#squatchart")),e.populateCharts("deadlift",angular.element("#deadliftchart"))})}])}(window.angularApp),function(e){"use strict";e.controller("settingsCtrl",["$scope","$timeout","Storage",function(e,t,n){e.clearDatabase=function(){n.dropTables(),e.message="Database has been cleared!",t(function(){e.message=null},2e3)}}])}(window.angularApp);var StorageService=function(){"use strict";var e=angular.module("StorageService",[]);e.service("Storage",["$log",function(e){var t={};return t.db=null,t.setupDatabase=function(e){this.db=openDatabase(e,"1.0","Test DB",2097152),this.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS bench (recorded long, reps, weight)"),e.executeSql("CREATE TABLE IF NOT EXISTS squat (recorded long, reps, weight)"),e.executeSql("CREATE TABLE IF NOT EXISTS deadlift (recorded long, reps, weight)")})},t.addExercise=function(t,n){return this.db?void this.db.transaction(function(r){e.info("Adding entry into "+t),e.debug(n.date.getTime()),r.executeSql("INSERT INTO "+t+"(recorded, reps, weight) VALUES (?,?,?)",[n.date.getTime(),n.reps,n.weight])}):void console.error("The database has not been opened.")},t.dropTables=function(){this.db.transaction(function(e){e.executeSql("DROP TABLE bench"),e.executeSql("DROP TABLE squat"),e.executeSql("DROP TABLE deadlift")})},t.getConnection=function(){return this.db},t}])}();!function(e){"use strict";e.directive("mAppLoading",["$animate","$timeout",function(e,t){function n(e,n,r){t(function(){n.addClass("fadeOut"),t(function(){n.remove(),e=n=r=null},1e3)},2e3)}return{link:n,restrict:"C"}}])}(window.angularApp);